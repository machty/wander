<div class="screen-view events-new-screen">
  <div class="title-bar">
    {{link-to "Cancel" "events" class="title-bar-button"}}

    <div class="title-bar-text">New Event</div>

    <span class="title-bar-button title-bar-button--default" {{action "save"}}>
      Save
    </span>
  </div>

  <div class="scroll-view below-title-bar">
    <div style="padding: 0 20px;">
      <h1 class="section-title">Description</h1>
      {{textarea value=model.description}}

      <br><br>
      <h1 class="section-title">Cost</h1>
      {{input value=model.cost}}

      {{#geo-location success=(action "geoLocationSuccess")}}
        <br>
        <h1 class="section-title">Weather</h1>
        {{#weather-fetch latitude=model.geolocation.latitude
                         longitude=model.geolocation.longitude
                         success=(action "weatherSuccess")}}
          <dl>
            <dt>Temperature:</dt>
            <dd>{{model.weather.temp_F}}F, feels like {{model.weather.FeelsLikeF}}F</dd>
            <dt>Windspeed:</dt> <dd>{{model.weather.windspeedMiles}}mph</dd>
            <dt>Humidity:</dt> <dd>{{model.weather.humidity}}%</dd>
            <dt>Cloud cover:</dt>
            <dd>
              {{model.weather.cloudcover}}% &ndash;
              {{#each model.weather.weatherDesc as |desc|}}
                {{desc.value}}
              {{/each}}
            </dd>
          </dl>
        {{else}}
          Loading weather...
        {{/weather-fetch}}

        <br><br>
        <h1 class="section-title">Location</h1>
        <dl>
          <dt>Latitude</dt>
          <dd>{{input value=model.geolocation.latitude}}</dd>
          <dt>Longitude</dt>
          <dd>{{input value=model.geolocation.longitude}}</dd>
          {{#if model.venue}}
            <dt>Name</dt>
            <dd>{{input value=model.venue.name}}</dd>
          {{/if}}
        </dl>

        <button {{action "showSelectVenue"}}>Select Location Name</button>
      {{else}}
        Getting location...
      {{/geo-location}}
    </div>
  </div>

  {{#if selectVenue}}
    {{#ember-wormhole to="wormhole-target"}}
      {{select-venue close=(action "hideSelectVenue")
                     selectVenue=(action "selectVenue")}}
    {{/ember-wormhole}}
  {{/if}}
</div>
